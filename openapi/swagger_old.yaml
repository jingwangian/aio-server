swagger: "2.0"
info:
  version: 0.0.1
  title: Storyview backend
# during dev, should point to your local machine
host: localhost:10020
# basePath prefixes all resource paths
basePath: /V1.0
#
schemes:
  # tip: remove http to make production-grade
  - http
  - https
# format of bodies a client can send (Content-Type)
consumes:
  - application/json
# format of the responses to the client (Accepts)
produces:
  - application/json
paths:
  /relatedmedia/get-entity-tags:
    x-swagger-router-controller: relatedmedia
    get:
      tags:
        - Relatedmedia
      description: "Return top 5 entities and tags for a media item"
      operationId: getEntityTags
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: media_item_id
          in: query
          description: "provide the media item id for which want to load the entites and nounchunks data"
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/EntityTagItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /monitor/dashboard-root-folder-stats:
    x-swagger-router-controller: coverage
    get:
      tags:
        - Coverage
      description: will return coverage dashboard summary
      operationId: getDashboardRootFolderStats
      parameters:
        - name: news_feed_ids
          in: query
          description: news_feed_ids
          required: true
          type: string
        - name: date_end
          in: query
          description: end date
          required: true
          type: string
        - name: date_start
          in: query
          description: start date
          required: true
          type: string
        - name: is_aired_date
          in: query
          description: type of date
          required: true
          type: boolean
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /monitor/coverage-folder-display-options:
    x-swagger-router-controller: coverage
    get:
      tags:
        - Coverage
      description: It will return media items
      operationId: getFolderDisplayOptions
      parameters:
        - name: date_end
          in: query
          description: end date
          required: true
          type: string
        - name: date_start
          in: query
          description: start date
          required: true
          type: string
        - name: is_aired_date
          in: query
          description: type of date
          required: true
          type: boolean
        - name: media_types
          in: query
          description: 1,2,3,4,5,6,7
          required: true
          type: string
        - name: news_feed_id
          in: query
          description: ex 139044
          required: true
          type: string
        - name: order
          in: query
          description: end date
          required: false
          type: string
        - name: sort
          in: query
          description: sort by
          type: string
        - name: page_size
          in: query
          description: total number of the media item need to fetch
          type: integer
        - name: offset
          in: query
          description: from the media item index
          type: integer
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /monitor/coverage-folders-details:
    x-swagger-router-controller: coverage
    get:
      tags:
        - Coverage
      description: It will return media items
      operationId: getCoverageFoldersDetails
      parameters:
        - name: date_end
          in: query
          description: end date
          required: true
          type: string
        - name: date_start
          in: query
          description: start date
          required: true
          type: string
        - name: is_aired_date
          in: query
          description: type of date
          required: true
          type: boolean
        - name: media_types
          in: query
          description: 1,2,3,4,5,6,7
          required: true
          type: string
        - name: news_feed_id
          in: query
          description: ex 139044
          required: true
          type: string
        - name: order
          in: query
          description: end date
          required: true
          type: string
        - name: sort
          in: query
          description: sort by
          type: string
        - name: page_size
          in: query
          description: total number of the media item need to fetch
          type: integer
        - name: offset
          in: query
          description: from the media item index
          type: integer
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /analytics/get-analytics-mediaitems:
    x-swagger-router-controller: analytics/analyticsDataCtrl
    post:
      tags:
        - Analytics
      description: It will return media items
      operationId: getMediaItems
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /common/update-mediaitem-sentiment:
    x-swagger-router-controller: common
    post:
      operationId: updateSentiment
      summary: load the current user permission
      description: load the current user permission
      tags:
        - Common
      parameters:
        - name: params
          in: body
          description: Provide the url which need to scrap
          required: true
          schema:
            type: object
            required:
              - sentiment_label
              - media_item_id
            properties:
              sentiment_label:
                type: string
                description: e.g.  Positive , Positive Verified
              media_item_id:
                type: string
                description: e.g.  224561850,224561851,224561852
      responses:
        '200':
          description: return user enabled permission
          schema:
            type: object
        default:
          description: Unexpected error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/user-feeds:
    x-swagger-router-controller: savedSearch/savedSearch
    get:
      tags:
        - Saved Search
      description: Return story view backend API version
      operationId: getUserFeeds
      parameters:
        - name: saved_search_type
          in: query
          description: Saved search type. Only [feeds|dailybriefing|all|analytics_feeds] are valid values. Default is feeds if no value specified.
          required: false
          type: string
          enum: [feeds,dailybriefing,all,analytics_feeds]
      responses:
        "200":
          description: Success
          schema:
            type: object
            properties:
              devices:
                type: array
                items:
                  $ref: '#/definitions/UserFeedOptions'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/get-coverage-stats:
    x-swagger-router-controller: savedSearch/coverageStats
    post:
      operationId: getCoverageStats
      summary: saved coverage stats for saved search
      description: saved coverage stats for saved search
      tags:
        - Saved Search
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: '#/definitions/DefCoverageStatsReq'
      responses:
        '200':
          description: Return all th id and .net service host url . this Url is used only for extract text and excel
          schema:
            $ref: '#/definitions/DefCoverageStatsRes'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
  /search-coverage/get-foam-tree-data:
    x-swagger-router-controller: coverage
    post:
      tags:
        - Search
      description: Return the data for the saved search query
      operationId: getFoamtreeStats
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: "#/definitions/DefSearchMediaItemsReq"
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
                $ref: '#/definitions/DefFoamTreeResp'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/saved-search:
    x-swagger-router-controller: savedSearch/savedSearch
    get:
      tags:
        - Saved Search
      description: Return story view backend API version
      operationId: getSavedSearch
      parameters:
        - name: saved_search_id
          in: query
          description: provide the saved search id to fetched criteria
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/GetSavedSearchResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    post:
      description: save the search to load dynamically data later
      operationId: savedSearch
      tags:
        - Saved Search
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: saved_search_options
          description: notification folders of current user
          in: body
          required: true
          schema:
            $ref: "#/definitions/SavedSearchOptions"
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/SavedSearchResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    put:
      description: save the search to load dynamically data later
      operationId: updateSavedSearch
      tags:
        - Saved Search
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: saved_search_options
          description: notification folders of current user
          in: body
          required: true
          schema:
            $ref: "#/definitions/UpdateSavedSearchOptions"
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/UpdateSavedSearchResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    delete:
      operationId: deleteItem
      summary: delete the saved filter for dynamic search
      description: delete the saved filter for dynamic search
      tags:
        - Saved Search
      parameters:
        - name: saved_search_id
          in: query
          description: saved_search_id
          required: true
          type: string
      responses:
        '201':
          description: display a success message
          schema:
            $ref: '#/definitions/SuccessResponse'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
  /saved-search/get-feeds-by-dashboard-ids:
    x-swagger-router-controller: savedSearch/savedSearch
    post:
      tags:
        - Saved Search
      description: Return story view backend API version
      operationId: getFeedsByDashboardIds
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: provide the dashboard_id to fetch corresponding feeds
          required: true
          schema:
            type: object
            properties:
                dashboard_ids:
                  type: string
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
                    type: object
                    properties:
                        saved_search_id:
                            type: array
                            items:
                                type: string
                        dashboard_id:
                            type: string
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"          
  /saved-search/bulk-get-saved-search-data:
    x-swagger-router-controller: savedSearch/savedSearchDataCtrl
    post:
      tags:
        - Saved Search
      description: Return the data for the saved search query
      operationId: bulkGetSavedSearchData
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            type: array
            items:
                properties:
                  saved_search_id:
                    type: string
                  size:
                    type: number
                  from:
                    type: number
                  from_date:
                    type: string
                  to_date:
                    type: string
      responses:
        "200":
          description: Success
          schema:
            type: object
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/get-saved-search-data:
    x-swagger-router-controller: savedSearch/savedSearchDataCtrl
    post:
      tags:
        - Saved Search
      description: Return the data for the saved search query
      operationId: getSavedSearchData
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            type: object
            properties:
              saved_search_id:
                type: string
              size:
                type: number
              from:
                type: number
              from_date:
                type: string
              to_date:
                type: string
      responses:
        "200":
          description: Success
          schema:
            type: object
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/get-feed-item-count:
    x-swagger-router-controller: savedSearch/savedSearchDataCtrl
    post:
      tags:
        - Saved Search
      description: Return the number of media Item on the provide feed Id based on the start date and end date
      operationId: getFeedItemCount
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            type: array
            items:
              $ref: "#/definitions/GetFeedCountReqOption"
      responses:
        "200":
          description: Success
          schema:
            type: object
            properties:
              total_count:
                type: integer
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /saved-search/get-feed-config:
    x-swagger-router-controller: savedSearch/savedSearchDataCtrl
    get:
      tags:
        - Saved Search
      description: Return the data for the saved search query
      operationId: getFeedConfig
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: saved_search_id
          in: query
          description: notification folders of current user
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/UserFeedOptions"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /notification/user-device-subscription:
    x-swagger-router-controller: savedSearch/savedSearch
    post:
      tags:
        - Notification
      description: Subscribes the user's device and create business flows for feeds that don't have business flows
      operationId: createUserDeviceSubscription
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            type: object
            properties:
              token_id:
                type: string
              business_flow:
                type: string
              type:
                type: string
              subtype:
                type: string
              active:
                type: boolean
      responses:
        "200":
          description: Success
          schema:
            type: object
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    get:
      tags:
        - Notification
      description: Gets the user's device subscription and business flows with feed information
      operationId: getUserDeviceSubscription
      parameters:
        - name: token_id
          in: query
          required: true
          type: string
        - name: type
          in: query
          required: true
          type: string
        - name: subtype
          in: query
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/GetSavedSearchResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /iam/register-jwt-token:
    x-swagger-router-controller: iam/me
    post:
      description: register the jwt token to sv-node backend
      operationId: registerJWTToken
      tags:
        - IAM
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: notification_folders
          in: body
          description: notification folders of current user
          schema:
            type: object
            required:
              - jwt_token
            properties:
              jwt_token:
                type: string
                description: e.g.  224561850,224561851,224561852
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/SuccessResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /storyview-dashboard/get-lasthours-details:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Dashboard
      description: Return story view backend API version
      operationId: lastHoursDetails
      parameters:
        - name: filter_type
          in: query
          description: Provide the filter at what base you wanted to the 24hrs details
          required: true
          type: string
        - name: story_id
          in: query
          description: provide the story for which u wanted to get the data
          required: false
          type: string
        - name: hours_difference
          in: query
          description: provide time duration, for example, '3h', '23h', '1d'
          required: false
          type: string
        - name: dateCreated
          in: query
          description: story date created
          required: false
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: "#/definitions/DefLastHoursDetails"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /storyview-dashboard/get-storyview-dashborad-details:
    x-swagger-router-controller: dashboard/dashboard
    get:
      tags:
        - Dashboard
      description: It will return first 3 tops outlet and infulencers for dashboard
      operationId: getDashboardDetails
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefStoriesDashboradDetails"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /storyview-dashboard/get-top-outlet-influencers:
    x-swagger-router-controller: dashboard/dashboard
    get:
      tags:
        - Dashboard
      description: It will return first 3 tops outlet and infulencers for dashboard
      operationId: getTopOutletInfluencers
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefTopOutletInfluencers"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /storyview-dashboard/get-all-stories:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Dashboard
      description: It will return first 3 top story cluster, also support infinite scroll using pagination
      operationId: getAllStories
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: delivery_set_id
          in: query
          description: User delivery_set_id
          required: true
          type: integer
        - name: brief_ids
          in: query
          description: User brief selection
          required: true
          type: string
        - name: start_row
          in: query
          description: provide the last reocrd number
          required: true
          type: integer
        - name: pageSize
          in: query
          description: Proivde the pageSize
          required: true
          type: integer
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefDetailsStory"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-top-story-mediaitem:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Dashboard
      description: It will return first 3 top story cluster, also support infinite scroll using pagination
      operationId: getTopStoryMediaitemAbstract
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefTopStoryMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-latest-story-mediaitem:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Dashboard
      description: It will return first 3 top story cluster, also support infinite scroll using pagination
      operationId: getMediaitemAbstract
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefTopStoryMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /report/export-pdf:
    x-swagger-router-controller: report
    get:
      tags:
        - Report-builder
      description: export custom report as PDF
      operationId: checkStatus
      consumes:
        - application/json
      produces:
        - application/pdf
      parameters:
        - name: taskId
          in: query
          description: file id
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            type: object
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    post:
      tags:
        - Report-builder
      description: export custom report as PDF
      operationId: exportAsPdf
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: the url to export
          schema:
            type: object
            required:
              - url
            properties:
              url:
                type: string
                description: the target url
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefExportPdfRes"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /report/download-pdf:
    x-swagger-router-controller: report
    get:
      tags:
        - Report-builder
      description: export custom report as PDF
      operationId: download
      consumes:
        - application/json
      produces:
        - application/pdf
      parameters:
        - name: taskId
          in: query
          description: the task id
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            type: object
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /report/get-newsletter-report:
    x-swagger-router-controller: report
    get:
      tags:
        - Report-builder
      description: get save/drafted report
      operationId: getNewsletterData
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: reportId
          in: query
          description: report id
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
              $ref: "#/definitions/DefNewsletterData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /report/get-full-text-media-item:
    x-swagger-router-controller: report
    get:
      tags:
        - Report-builder
      description: get save/drafted report
      operationId: getDetailedMediaItems
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: reportId
          in: query
          description: report id
          required: true
          type: string
        - name: media_item_id
          in: query
          description: media_item_id
          required: true
          type: string
        - name: prospect_id
          in: query
          description: prospect_id
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /report/save-newsletter-report:
    x-swagger-router-controller: report
    post:
      operationId: saveNewsletterData
      summary: save the draft newsletter data
      description: save the draft newsletter data
      tags:
        - Report-builder
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: '#/definitions/DefNewsletterData'
      responses:
        '200':
          description: Return all th id and .net service host url . this Url is used only for extract text and excel
          schema:
            type: object
            properties:
              group_details:
                type: array
                items:
                    type: object
                    properties:
                        prospect_id:
                            type: integer
                        media_item_id:
                            type: integer
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
    delete:
      operationId: deleteDraftedReport
      summary: delete drafted report if any
      description: delete drafted report if any
      tags:
        - Report-builder
      parameters:
        - name: reportId
          in: query
          description: report id
          required: true
          type: string
      responses:
        '201':
          description: display a success message
          schema:
            $ref: '#/definitions/SuccessResponse'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
  /report/report-prospect-ids:
    x-swagger-router-controller: report
    post:
      operationId: getProspectIDs
      summary: Get all the prospect id
      description: Get all the prospect id
      tags:
        - Report-builder
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: '#/definitions/DefReportProspectReq'
      responses:
        '200':
          description: Return all th id and .net service host url . this Url is used only for extract text and excel
          schema:
            type: object
            properties:
              group_details:
                type: array
                items:
                    type: object
                    properties:
                        prospect_id:
                            type: integer
                        media_item_id:
                            type: integer
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
  /get-story-mediaitems:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Storyview Details
      description: It will return media items
      operationId: getStoryMediaItems
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefStoryMediaItems"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-only-mediaitems:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Storyview Details
      description: It will return media items
      operationId: getOnlyMediaitemsForStory
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-mediaitems-by-ids:
    x-swagger-router-controller: mediaitem/mediaitem
    post:
      tags:
        - Mediaitems
      description: It will return media items based on ids, filtered by delivery set
      operationId: getMediaItemsByIds
      parameters:
        - name: params
          in: body
          description: Array of numeric media item ids
          required: true
          schema:
            type: object
            properties:
              group_syndications:
                type: boolean
                description: If syndications exist, should syndications be grouped under parent item
              media_item_ids:
                type: array
                items:
                    type: integer
                minItems: 1
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-playlist-by-mediaitem-id:
    x-swagger-router-controller: mediaitem/mediaitem
    get:
      tags:
        - Mediaitem
      description: Returns media item play list
      operationId: getPlayListByMediaItemId
      parameters:
        - name: mediaitemid
          in: query
          description: provide the mediaitem id for which we want to generate play list
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-playlist-by-mediaitem-id-jwt:
    x-swagger-router-controller: mediaitem/mediaitem
    get:
      tags:
        - Mediaitem
      description: Returns media item play list
      operationId: getPlayListByMediaItemId
      parameters:
        - name: mediaitemid
          in: query
          description: provide the mediaitem id for which we want to generate play list
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            type: array
            items:
              $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-story-by-id:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Storyview Details
      description: Return story view backend API version
      operationId: getStoryById
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefDetailsStory"

        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /get-story-outlet-influencer:
    x-swagger-router-controller: storyViewDashborad
    get:
      tags:
        - Storyview Story outlet and influencer
      description: Return story's outlet and influencer
      operationId: getStoryOutletInfluencer
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefDetailsStory"

        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /engagement/get-engagement-sorting-options:
    x-swagger-router-controller: engagement
    get:
      tags:
        - Engagement
      description: Return story view backend API version
      operationId: getEngagementSortingOption
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefEngagmentSortingOptions"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /grouping/get-grouping-sorting-options:
    x-swagger-router-controller: grouping/grouping
    get:
      tags:
        - Storyview Details
      description: Return story view backend API version
      operationId: getGroupingSortingOptions
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefGroupingSortingOptions"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /grouping/grouping-mediaitems:
    x-swagger-router-controller: grouping/grouping
    get:
      tags:
        - Storyview Details
      description: Return story view backend API version
      operationId: groupingMediaitems
      parameters:
        - name: group_by
          in: query
          description: Provide the group by
          required: false
          type: string
        - name: group_size
          in: query
          required: false
          type: integer
        - name: mediaitem_ids
          in: query
          description: common sperator mediaitem_ids
          required: false
          type: string
      responses:
        200:
          description: Success
          schema:
            $ref: "#/definitions/DefGropMediaItems"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /grouping/get-group-mediaitems:
    x-swagger-router-controller: grouping/grouping
    get:
      tags:
        - Storyview Details
      description: Return story view backend API version
      operationId: getMediaItemFromGroup
      parameters:
        - name: group_type
          in: query
          description: Provide the group name
          required: false
          type: string
        - name: group_value
          in: query
          description: Provide the group value
          required: false
          type: string
        - name: mediaitem_ids
          in: query
          description: common sperator mediaitem_ids
          required: false
          type: string
        - name: sort_field
          in: query
          required: false
          type: string
        - name: sort_asc_desc
          in: query
          description: sotring order asc or dsc
          required: false
          type: string
        - name: size
          in: query
          description: provide the page size
          required: false
          type: integer
      responses:
        200:
          description: Success
          schema:
            type: array
            items:
              type: integer
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /grouping/get-syndicated-mediaitems:
    x-swagger-router-controller: grouping/grouping
    get:
      tags:
        - Storyview Details
      description: Return story view backend API version
      operationId: getSyndicatedMediaItems
      parameters:
        - name: sort_asc_desc
          in: query
          description: provide the sorting order
          required: false
          type: string
        - name: sort_field
          in: query
          description: Provide sort filed
          required: false
          type: string
        - name: story_id
          in: query
          description: Provide the story_id
          required: false
          type: string
      responses:
        200:
          description: Success
          schema:
            type: array
            items:
              type: string
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /engagement/get-latest-engagment-data:
    x-swagger-router-controller: engagement
    get:
      tags:
        - Engagement
      description: Retrun the latest engagment data
      operationId: getLatestEngagmentData
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: media_item_ids
          in: query
          description: Provide commoa sperate media item
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefEngagementData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /engagement/get-social-share-details:
    x-swagger-router-controller: engagement
    get:
      tags:
        - Engagement
      description: Return all the shared data from twiter and facebook
      operationId: getSocialShareDetails
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: media_item_id
          in: query
          description: provide the mediaitem id for which we want to load all the data
          required: true
          type: string
        - name: start_row
          in: query
          description: provide the last reocrd number
          required: true
          type: integer
        - name: pageSize
          in: query
          description: Proivde the pageSize
          required: true
          type: integer
        - name: media_type
          in: query
          description: Value could be facebook or twitter
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefEngagementData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /story-detail/get-story-detail-data:
    x-swagger-router-controller: report
    get:
      tags:
        - Report-builder
      description: Return all the story meta data , which will include total shares, total Audience
      operationId: getStoryDetailData
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: story_id
          in: query
          description: provide the story id for which want to load the socail data
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefGetStoryDetailData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"

  /engagement/get-engagement-data-for-story:
    x-swagger-router-controller: engagement
    get:
      tags:
        - Engagement
      description: Return engagement data
      operationId: getEngagementDataForStory
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: story_id
          in: query
          description: provide the story id for which want to load the socail data
          required: true
          type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefEngagementData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"

  /engagement/get-engagment-data-for-media-items:
    x-swagger-router-controller: engagement
    post:
      tags:
        - Engagement
      description: Retrun the latest engagment data
      operationId: getEngagementDataForMediaItems
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: mediaitem_ids
          in: body
          description: Provide commoa sperate media item
          schema:
            type: object
            properties:
              mediaitem_ids:
                type: string
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefEngagementData"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /coverage/search-media-items:
      x-swagger-router-controller: coverage
      post:
        operationId: searchMediaItems
        summary: Search media items both from monitor coverage header as well as from monitor search page.
        description: Search media items both from monitor coverage header as well as from monitor search page.
        tags:
          - Search
        consumes:
          - application/x-www-form-urlencoded
          - application/json
        produces:
          - application/json
        parameters:
          - in: body
            name: body
            description: load the specific groups
            required: false
            schema:
              $ref: "#/definitions/DefSearchMediaItemsReq"
        responses:
          '200':
            description: returns the search results
            schema:
              type: object
              properties:
                range_selector_air_date:
                  type: string
                results:
                  type: array
                  items:
                    required:
                      - prospect_id
                      - media_item_id
                      - display_name
                      - headline
                      - air_date
                      - program_name
                      - source_name
                      - commentator
                      - article_type
                      - date_created
                      - is_read
                    properties:
                      prospect_id:
                        type: integer
                      media_item_id:
                        type: integer
                      display_name:
                        type: string
                      headline:
                        type: string
                      air_date:
                        type: string
                      program_name:
                        type: string
                      source_name:
                        type: string
                      commentator:
                        type: string
                      article_type:
                        type: string
                      date_created:
                        type: string
                      is_read:
                        type: string
          default:
            description: Unexpected error
            schema:
              $ref: '#/definitions/ErrorResponse'
  /coverage/get-grouped-coverage-search:
      x-swagger-router-controller: coverage
      post:
        operationId: getGroupedCoverageSearch
        summary: Get coverage items grouped for mobile.
        description: Get coverage items grouped for mobile.
        tags:
          - Coverage
        consumes:
          - application/json
        produces:
          - application/json
        parameters:
          - in: body
            name: body
            description: notification sound of particular user & device token.
            required: false
            schema:
              type: object
              required:
                - search_by
                - from_date
                - to_date
                - ordered_by_asc
              properties:
                group_value:
                  type: string
                client_type:
                  type: string
                is_all_columns:
                  type: string
                group_by:
                  type: string
                group_by_asc:
                  type: string
                search_text:
                  type: string
                language_id:
                  type: integer
                from_date:
                  type: string
                to_date:
                  type: string
                news_feed_ids:
                  type: string
                media_type_ids:
                  type: string
                state_id_list:
                  type: string
                source_id_list:
                  type: string
                author_id_list:
                  type: string
                search_by:
                  type: string
                start_row:
                  type: integer
                end_row:
                  type: integer
                search_company:
                  type: string
                search_brand:
                  type: string
                search_industry:
                  type: string
                search_tone:
                  type: string
                text_content_filter:
                  type: string
                ordered_by:
                  type: string
                ordered_by_asc:
                  type: boolean
        responses:
          '200':
            description: returns the search results
            schema:
              type: object
              properties:
                range_selector_air_date:
                  type: string
                results:
                  type: array
                  items:
                    required:
                      - prospect_id
                      - media_item_id
                      - display_name
                      - headline
                      - air_date
                      - program_name
                      - source_name
                      - commentator
                      - article_type
                      - date_created
                      - is_read
                    properties:
                      prospect_id:
                        type: integer
                      media_item_id:
                        type: integer
                      display_name:
                        type: string
                      headline:
                        type: string
                      air_date:
                        type: string
                      program_name:
                        type: string
                      source_name:
                        type: string
                      commentator:
                        type: string
                      article_type:
                        type: string
                      date_created:
                        type: string
                      is_read:
                        type: string
          default:
            description: Unexpected error
            schema:
              $ref: '#/definitions/ErrorResponse'
  /coverage/get-coverage-mediaitem-search:
      x-swagger-router-controller: coverage
      post:
        operationId: getCoverageMediaItems
        summary: Get coverage items grouped for mobile.
        description: Get coverage items grouped for mobile.
        tags:
          - Coverage
        consumes:
          - application/json
        produces:
          - application/json
        parameters:
          - in: body
            name: body
            description: notification sound of particular user & device token.
            required: false
            schema:
              type: object
              required:
                - search_by
                - from_date
                - to_date
                - ordered_by_asc
              properties:
                group_value:
                  type: string
                client_type:
                  type: string
                is_all_columns:
                  type: string
                group_by:
                  type: string
                group_by_asc:
                  type: string
                search_text:
                  type: string
                language_id:
                  type: integer
                from_date:
                  type: string
                to_date:
                  type: string
                news_feed_ids:
                  type: string
                media_type_ids:
                  type: string
                state_id_list:
                  type: string
                source_id_list:
                  type: string
                author_id_list:
                  type: string
                search_by:
                  type: string
                start_row:
                  type: integer
                end_row:
                  type: integer
                search_company:
                  type: string
                search_brand:
                  type: string
                search_industry:
                  type: string
                search_tone:
                  type: string
                text_content_filter:
                  type: string
                ordered_by:
                  type: string
                ordered_by_asc:
                  type: boolean
        responses:
          '200':
            description: returns the search results
            schema:
              type: object
              properties:
                range_selector_air_date:
                  type: string
                results:
                  type: array
                  items:
                    required:
                      - prospect_id
                      - media_item_id
                      - display_name
                      - headline
                      - air_date
                      - program_name
                      - source_name
                      - commentator
                      - article_type
                      - date_created
                      - is_read
                    properties:
                      prospect_id:
                        type: integer
                      media_item_id:
                        type: integer
                      display_name:
                        type: string
                      headline:
                        type: string
                      air_date:
                        type: string
                      program_name:
                        type: string
                      source_name:
                        type: string
                      commentator:
                        type: string
                      article_type:
                        type: string
                      date_created:
                        type: string
                      is_read:
                        type: string
          default:
            description: Unexpected error
            schema:
              $ref: '#/definitions/ErrorResponse'
  /coverage/report-prospect-ids:
    x-swagger-router-controller: coverage
    post:
      operationId: getProspectIDs
      summary: Get all the prospect id
      description: Get all the prospect id
      tags:
        - Export
      consumes:
        - application/x-www-form-urlencoded
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: '#/definitions/MediaItemsToFolderReq'
      responses:
        '200':
          description: Return all th id and .net service host url . this Url is used only for extract text and excel
          schema:
            type: object
            properties:
              group_details:
                type: array
                items:
                    type: object
                    properties:
                        prospect_id:
                            type: integer
                        media_item_id:
                            type: integer
              service_host_urls:
                type: object
                properties:
                    export_excel_end_point:
                        type: string
                        description: end point to generate excel format
                    export_text_end_point:
                        type: string
                        description: end point to generate text format
                    export_email_end_point:
                        type: string
                        description: end point to generate email format
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
  /coverage/search-coverage-dynamic:
    x-swagger-router-controller: coverage
    post:
      tags:
        - Coverage
      description: Retun the coverage data based on search criteria
      operationId: getCoverageSearchData
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: Provide the actual query to fetch mediaitem from elastic
          schema:
            type: object
            properties:
              esquery:
                type: object
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/DefMediaItem"
        default:
          description : Error
          schema:
            $ref: "#/definitions/ErrorResponse"
  /coverage/update-perculator:
    x-swagger-router-controller: coverage
    post:
      tags:
        - Coverage
      description: Retun the coverage data based on search criteria
      operationId: updatePerculator
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: details
          required: true
          schema:
            $ref: '#/definitions/PersonalFolder'
      responses:
        "200":
          description: Success
          schema:
            $ref: "#/definitions/SuccessResponse"
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"
    delete:
      operationId: deletePerculator
      summary: delete perculator index from Elastic for personal folder
      description: delete perculator index from Elastic for personal folder
      tags:
        - Coverage
      parameters:
        - name: folderId
          in: query
          description: folder id
          required: true
          type: string
      responses:
        '201':
          description: display a success message
          schema:
            $ref: '#/definitions/SuccessResponse'
        default:
          description: Unexpected error
          schema:
            $ref: '#/definitions/ErrorResponse'
    
  /swagger:
    x-swagger-pipe: swagger_raw
definitions:
  Story:
    type: object
    properties:
      last_hr_count:
        type: integer
      dateCreated:
        type: string
      top:
        type: integer
      influencer:
         type: object
         properties:
           top:
            type: array
            items:
              allOf:
                - $ref: '#/definitions/DefInfluencer'
           uniqueID:
             type: array
             items:
               type: integer
           keywords:
             type: array
             items:
               type: string
           mediaitem_ids:
             type: array
             items:
               type: integer
           count:
             type: integer
           mediatype_percentage:
             type: object
             properties:
               key:
                 type: string
               value:
                 type: integer
           dateUpdated:
             type: string
           latest:
             type: string
           outlets:
             allOf:
               - $ref: '#/definitions/DefInfluencer'
  DefSearchMediaItemsReq:
    type: object
    required:
      - from_date
      - to_date
      - search_by
      - ordered_by
      - ordered_by_asc
    properties:
      group_value:
         type: string
      client_type:
          type: string
      is_all_columns:
          type: string
      group_by:
          type: string
      group_by_asc:
          type: string
      search_text:
          type: string
      language_id:
          type: integer
      from_date:
          type: string
          description: e.g. "2016-03-01 00:00:00"
      to_date:
          type: string
          description: e.g. "2016-03-01 23:59:59"
      news_feed_ids:
          type: string
          description: e.g. "81455,165193,165066,-51032"
      media_type_ids:
          type: string
          description: e.g. "1,2,3,6,15"
      state_text_list:
          type: string
      source_id_list:
          description: e.g. "26208"
          type: string
      excluded_source_id_list:
          description: e.g. "26208"
          type: string
      author_id_list:
          description: e.g. "1757430"
          type: string
      excluded_author_id_list:
          description: e.g. "1757430"
          type: string
      classification_id_list:
          description: e.g. "1757430"
          type: string
      excluded_classification_id_list:
          description: e.g. "1757430"
          type: string
      search_by:
          type: string
      start_row:
          type: integer
      end_row:
          type: integer
      search_company:
          type: string
      search_brand:
          type: string
      search_industry:
          type: string
      search_tone:
          type: string
      text_content_filter:
          type: string
      ordered_by:
          type: string
      ordered_by_asc:
          type: boolean
      advanced_sort:
          type: string
      entity_text:
          type: string
  DefStoryData:
    type: object
    properties:
      story_id:
          type: string
      detail:
        $ref: "#/definitions/Story"
  DefDetailsStory:
    type: object
    properties:
      total:
        type: integer
      data:
        type: array
        items:
          $ref: "#/definitions/DefStoryData"
  DefInfluencer:
    type: object
    properties:
      commentator:
        type: string
      social_user:
        type: string
      media_item_id:
        type: integer
      media_type:
        type: string
      twitter:
        type: string
      media_contact_id:
        type: integer
      item_count:
        type: integer
      audience_count:
        type: integer
      audience:
        type: integer
  DefOutlet:
    type: object
    properties:
      outlet_name:
        type: string
      media_outlet_logo_url:
        type: string
      audience:
       type: integer
      media_outlet_id:
       type: integer
  EntityTagItem:
      type: object
      properties:
        entity:
          type: string
          example: "Trump"
        tag:
          type: integer
          example: "Darling Hub"

  DefMediaItem:
      type: object
      properties:
        thumbnail_url:
          type: string
        prospect_id:
          type: integer
        media_item_id:
          type: integer
        headline:
          type: string
        air_date:
          type: string
        program_name:
          type: string
        source_name:
          type: string
        commentator:
          type: string
        date_created:
          type: string
        source_system:
          type: string
        page_num:
          type: integer
        page_duration:
          type: integer
        circulation:
          type: integer
        word_count:
          type: integer
        market:
          type: string
        country:
          type: string
        location:
          type: string
        summary_id:
          type: integer
        media_type_id:
          type: integer
        source_position_id:
          type: integer
        source_media_entity_id:
          type: integer
        program_position_id:
          type: integer
        program_media_entity_id:
          type: integer
        media_outlet_id:
          type: integer
        delivery_date:
          type: string
        program_source_table_row_id:
          type: integer
        hyperlink:
          type: string
        profile_url:
          type: string
        profile_image_url:
          type: string
        social_user:
          type: string
        social_user_display_name:
          type: string
        twitter_followers:
          type: string
        media_outlet_logo_url:
          type: string
  Aggaregated_engagement_data:
      type: object
      properties:
        total_retweet_count:
          type: object
          properties:
            value:
              type: integer
        total_facebook_comments:
          type: object
          properties:
            value:
              type: integer
        total_tweet_count:
          type: object
          properties:
            value:
              type: integer
        total_facebook_likes:
          type: object
          properties:
            value:
              type: integer
        total_facebook_shares:
          type: object
          properties:
            value:
              type: integer
        total_favorites_count:
          type: object
          properties:
            value:
              type: integer
  DefEngagementData:
      type: object
      properties:
        mediaItems:
          type: object
          properties:
            url:
              type: string
            twitter:
              type: object
              properties:
                favorites_count:
                  type: integer
                retweet_count:
                  type: integer
                tweet_count:
                  type: integer
            facebook:
              type: object
              properties:
                likes:
                  type: integer
                comments:
                  type: integer
                shares:
                  type: integer
            media_item_id:
              type: integer
            aggregated_count:
              type: integer
        aggaregated_engagement_data:
            allOf:
                - $ref: '#/definitions/Aggaregated_engagement_data'
  SuccessResponse:
    required:
      - successResp
    properties:
      successResp:
        type: boolean
  ErrorResponse:
    required:
      - message
    properties:
      message:
        type: string
  SavedSearchResponse:
    type: object
    required:
      - saved_search_id
    properties:
      saved_search_id:
        type: string
  UpdateSavedSearchResponse:
    type: object
    properties:
      all_briefs:
        type: boolean 
      customer_number:
        type: string 
      dashboard_id:
        type: string  
      news_feed_ids:
        type: string
      saved_search_type:
        type: string
      search_text:
        type: string 
      sort_order:
        type: string
      support_syndication:
        type: boolean
      title:
        type: string 
  GetSavedSearchResponse:
    type: object
    properties:
      all_briefs:
        type: boolean 
      customer_number:
        type: string 
      dashboard_id:
        type: string
      media_type_ids:
        type: string  
      news_feed_ids:
        type: string
      saved_search_id:
        type: string
      saved_search_type:
        type: string
      sentiment_types:
        type: string 
      search_text:
        type: string 
      state_text_list:
        type: string 
      sort_order:
        type: string
      support_syndication:
        type: boolean
      title:
        type: string 
      user_id:
        type: string     
  DefLast1Hours:
    type: object
    properties:
      doc_count:
          type: integer
  DefBucket:
    type: object
    properties:
      audienceCount:
        type: object
        properties:
          value:
            type: integer
      doc_count:
          type: integer
      key:
        type: integer
      key_as_string:
        type: string
      top_aud_hits:
        type: array
        items:
          $ref: '#/definitions/DefMediaItem'
  DefTotalBuckets:
    type: array
    items:
      $ref: '#/definitions/DefBucket'
  DefLastHoursDetails:
    properties:
      last_1_hour:
          allOf:
            - $ref: '#/definitions/DefLast1Hours'
      totalBuckets:
          allOf:
            - $ref: '#/definitions/DefTotalBuckets'
  DefDetailsBucket:
    type: object
    properties:
      audienceCount:
        type: object
        properties:
          value:
            type: integer
      doc_count:
          type: integer
      key:
        type: integer
      key_as_string:
        type: string
  DefStoriesDashboradDetails:
    properties:
      totalMediaItems:
          type: integer
      last_1_hour:
          allOf:
            - $ref: '#/definitions/DefLast1Hours'
      totalBuckets:
        type: array
        items:
          $ref: '#/definitions/DefDetailsBucket'
  DefTopOutletInfluencers:
    properties:
      influencers:
        type: array
        items:
          $ref: '#/definitions/DefInfluencer'
      outlets:
        type: array
        items:
          $ref: '#/definitions/DefOutlet'
  DefProspectKeywords:
    properties:
      keyword:
          type: string
      keyword_count:
          type: integer
  DefTopStoryMediaItem:
    properties:
      mediaItem:
          allOf:
            - $ref: '#/definitions/DefMediaItem'
      CompanyInfo:
         type: array
         items:
           $ref: '#/definitions/DefMediaItem'
      media_item_details:
          allOf:
            - $ref: '#/definitions/DefMediaItem'
      prospect_keywords::
          type: array
          items:
            $ref: '#/definitions/DefProspectKeywords'
  DefStoryMediaItems:
    properties:
      DefTopStoryMediaItem:
        allOf:
            - $ref: '#/definitions/DefTopStoryMediaItem'
      syndications_records:
         type: array
         items:
           $ref: '#/definitions/DefTopStoryMediaItem'
  DefGrupingSortingOption:
    properties:
      name:
        type: string
      value:
        type: string
      dbColValue:
        type: string
  DefSortingOrder:
    properties:
      name:
        type: string
      value:
        type: string
  DefEngagmentSortingOptions:
    properties:
      sortOption:
        type: array
        items:
          $ref: '#/definitions/DefSortingOrder'
      sortOrder:
        type: array
        items:
          $ref: '#/definitions/DefSortingOrder'
  DefGroupingSortingOptions:
    properties:
      group_options:
        type: array
        items:
          $ref: '#/definitions/DefGrupingSortingOption'
      sort_options:
        type: array
        items:
          $ref: '#/definitions/DefGrupingSortingOption'
      sort_options_asc_desc:
        type: array
        items:
          $ref: '#/definitions/DefSortingOrder'
  DefGetStoryDetailData:
    properties:
        totalMediaItems:
            type: integer
        totalAudienceCount:
            type: integer
        aggaregated_engagement_data:
            allOf:
                - $ref: '#/definitions/Aggaregated_engagement_data'
  DefGropMediaItems:
    properties:
      doc_count:
        type: integer
      key:
        type: string
  DefNewsletterSubModule:
    type: object
    properties:
      subModule:
       type: string
      groupBy:
       type: string
      sortBy:
       type: string
      groupByAsc:
       type: boolean
      sortByAsc:
       type: boolean
      reportTitle:
       type: string
      reportSynopsis:
       type: string
      data:
       type: array
       items:
        type: object

  DefNewsletterData:
    type: object
    properties:
      reportId:
       type: string
      reportStatus:
       type: string
      newsletterModules:
        type: array
        items:
         properties:
            moduleType:
             type: string
            reportTitle:
             type: string
            reportSynopsis:
             type: string
            records:
             type: array
             items:
                  allOf:
                    - $ref: '#/definitions/DefNewsletterSubModule'
      newsletterMeta:
       type: object
       properties:
        reportTitle:
         type: string
        reportSynopsis:
         type: string
        headerImgUrl:
         type: string
        logoImgUrl:
         type: string
        themeColor:
         type: string
        displayOptions:
         type: array
         items:
            allOf:
                - $ref: '#/definitions/DefSortingOrder'

  DefReportProspectReq:
    type: object
    properties:
      module_type:
        type: string
        description: who is the caller ex. "stories or analytics_coverage"
      story_id:
        type: string
        description: provide the story id to load all the media items
      group_by_value:
        type: string
        description: provide groupBy values
      group_by:
        type: string
        description: group name e.g. SourceName
      exclude_groups:
        type: array
        items:
            type: string
      media_items:
        type: array
        items:
            properties:
                group_name:
                    type: string
                is_excluded:
                    type: boolean
                    description: Is need to add this media item in the personal folder
                media_item_id:
                    type: integer
  MediaItemsToFolderReq:
    type: object
    properties:
      module:
        type: string
        description: describes the module which sends the request
      coverage_type:
        type: string
        description: selected coverage type
      search_keyword:
        type: string
        description: keyword search string in search coverage
      date_start:
        type: string
        description: start date e.g. 2016-04-30T16:00:00.000z
      date_end:
        type: string
        description: end date e.g 2016-06-29T15:59:59.999Z
      group_by:
        type: string
        description: group name e.g. SourceName
      is_aired_date:
        type: boolean
        description: is_aired_date e.g  true
      mediatype_ids:
        type: string
        description: mediatypeids used in analytics chart to explict filter data
      folder_id:
        type: string
        description: folder_ids for analytics bar items
      state_id:
        type: string
        description: stateid for analytics
      locations:
        type: string
        description: location for analytics
      commentator_id:
        type: string
        description: commentator id for analytics
      filter_types:
        type: array
        items:
            type: integer
      exclude_groups:
        type: array
        items:
            type: string
      media_items:
        type: array
        items:
            properties:
                group_name:
                    type: string
                is_excluded:
                    type: boolean
                    description: Is need to add this media item in the personal folder
                prospect_id:
                    type: integer
                media_item_id:
                    type: integer
  PersonalFolder:
    type: object
    required:
      - folder_id
    properties:
      folder_id:
        type: number
      search_text:
        type: string
      search_text_language_id:
        type: string
      category_id_list:
        type: string
        description: e.g. 165192,81455,85451,165195,165253,165193,165081,165076
      media_type_id_list:
        type: string
        description: e.g. 2,3,13
      state_id_list:
        type: string
        description: e.g. 1,6,9,25,24
      source_id_list:
        type: string
        description: e.g. 307045,313246
      commentator:
        type: string
        description: e.g. 5280409,33909
      to_be_deleted:
        type: boolean
  GetFeedCountReqOption:
    type: object
    required:
      - saved_search_id
    properties:
      saved_search_id:
        type: string
      news_feed_ids:
        type: string
      from_date:
        type: string
      to_date:
        type: string
  SavedSearchOptions:
    type: object
    properties:
      all_briefs:
        type: ["boolean","null"]
      dashboard_id:
        type: ["string","null"]
      media_type_ids:
        type: ["string","null"]
      media_types:
        type: ["string","null"]
        description: e.g. 2,3,13
      media_outlets:
        type: ["string","null"]
      news_feed_ids:
        type: ["string","null"]
      regions:
        type: ["string","null"]
      sentiment_types:
        type: ["string","null"]
      saved_search_type:
        type: ["string","null"]
      search_text:
        type: ["string","null"]
      show_syndicates:
        type: ['boolean','null']
      sort_order:
        type: ['integer','null']
      state_text_list:
        type: ["string","null"]
      support_syndication:
        type: ["boolean","null"]
      text_lang_id:
        type: ["integer","null"]
      title:
        type: ["string","null"]
  UpdateSavedSearchOptions:
    type: object
    required:
      - saved_search_id
    properties:
      all_briefs:
        type: ["boolean","null"]
      customer_number:
        type: ["string","null"]
      dashboard_id:
        type: ["string","null"]
      media_type_ids:
        type: ["string","null"]
      news_feed_ids:
        type: ["string","null"]
      saved_search_id:
        type: string
      saved_search_type:
        type: ["string","null"]
      sentiment_types:
        type: ["string","null"]
      search_text:
        type: ["string","null"]
      show_syndicates:
        type: ["boolean","null"]
      sort_order:
        type: ['integer','null']
      state_text_list:
        type: ["string","null"]
      support_syndication:
        type: ["boolean","null"]
      text_lang_id:
        type: ['integer','null']
      title:
        type: ["string","null"]
      user_id:
        type: ["string","null"]

  DefFoamTreeResp:
    type: object
    required:
      - weigth
      - label
    properties:
      label:
        type: string
      weigth:
        type: string
  UserFeedOptions:
    type: object
    required:
      - title
      - description
      - saved_search_id
    properties:
      saved_search_id:
        type: string
      description:
        type: string
      title:
        type: string
      saved_search_type:
        type: string
      search_text:
        type: string
      sentiment_types:
        type: string
      news_feed_ids:
        type: string
      media_type_ids:
        type: string
      source_list:
        type: string
      author_list:
        type: string
      state_text_list:
        type: string
      show_syndicates:
        type: string
      sort_order:
        type: string
      excluded_author_list:
        type: string
      excluded_source_list:
        type: string
  DefCoverageStatsReq:
    type: object
    required:
      - start_date
      - end_date
    properties:
      start_date:
        type: string
      end_date:
        type: string
      news_feed_ids:
        type: string
  DefCoverageStatsRes:
    type: object
    required:
      - sentimentAggs
      - mediaItemAggs
      - wordCloudDaa
    properties:
      mediaItemAggs:
        type: array
        items:
            properties:
                count:
                    type: integer
                key:
                    type: integer
                date:
                    type : string

      sentimentAggs:
        type: array
        items:
            properties:
                id:
                    type: string
                field:
                    type : integer

      wordCloudDaa:
        type: array
        items:
            properties:
                id:
                    type: string
  DefExportPdfRes:
    properties:
      id:
          type: string
      name:
          type: string
